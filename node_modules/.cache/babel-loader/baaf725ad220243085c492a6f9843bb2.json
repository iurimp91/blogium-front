{"ast":null,"code":"var _jsxFileName = \"/home/iurimp91/projetos/pratica-node-blogium/front-blogium/src/components/PostShowPage/PostShowPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport PreContent from '../../components/PreContent';\nimport PostImage from './PostImage';\nimport PostText from './PostText/PostText';\nimport Spinner from '../../components/Spinner';\nimport Button from '../../components/Button';\nimport PostComments from './PostComments/PostComments';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PostShowPage() {\n  _s();\n\n  const {\n    postId\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    const request = axios.get(`http://localhost:5000/posts/${postId}`);\n    request.then(response => {\n      setPost(response.data);\n    });\n    request.catch(error => {\n      alert(\"Algo deu errado com sua requisição, por favor, tente novamente.\");\n    });\n  }, [postId]);\n\n  function onEditButtonClick() {\n    history.push(`/posts/${postId}/edit`);\n  }\n\n  function onDeleteButtonClick() {\n    const request = axios.delete(`http://localhost:5000/posts/${postId}`);\n    request.then(response => {\n      history.push('/');\n    });\n  }\n\n  if (!post) return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(PostImage, {\n          coverUrl: post.coverUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PreContent, {\n          marginY: \"20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EditionContainer, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                color: 'orange',\n                borderColor: 'orange',\n                marginRight: 10\n              },\n              onClick: onEditButtonClick,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                color: 'red',\n                borderColor: 'red'\n              },\n              onClick: onDeleteButtonClick,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PostText, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PostComments, {\n          postId: post.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostShowPage, \"D8m/Uwem24p41LmP5eKXtypgeqk=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = PostShowPage;\nconst EditionContainer = styled.div`\n  margin: 0 auto;\n  padding: 0 20px 40px;\n  max-width: 740px;\n  display: flex;\n  align-items: center;\n  ${({\n  isAdmin\n}) => isAdmin ? 'justify-content: space-between' : 'justify-content: flex-start'}\n`;\n_c2 = EditionContainer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PostShowPage\");\n$RefreshReg$(_c2, \"EditionContainer\");","map":{"version":3,"sources":["/home/iurimp91/projetos/pratica-node-blogium/front-blogium/src/components/PostShowPage/PostShowPage.js"],"names":["React","useState","useEffect","styled","useParams","useHistory","PreContent","PostImage","PostText","Spinner","Button","PostComments","axios","PostShowPage","postId","post","setPost","history","request","get","then","response","data","catch","error","alert","onEditButtonClick","push","onDeleteButtonClick","delete","coverUrl","color","borderColor","marginRight","id","EditionContainer","div","isAdmin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport PreContent from '../../components/PreContent';\nimport PostImage from './PostImage';\nimport PostText from './PostText/PostText';\nimport Spinner from '../../components/Spinner';\nimport Button from '../../components/Button';\nimport PostComments from './PostComments/PostComments';\nimport axios from 'axios';\n\nexport default function PostShowPage() {\n  const { postId } = useParams();\n  const [post, setPost] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    const request = axios.get(`http://localhost:5000/posts/${postId}`);\n\n    request.then(response => {\n      setPost(response.data);\n    });\n\n    request.catch(error => {\n      alert(\"Algo deu errado com sua requisição, por favor, tente novamente.\");\n    });\n  }, [postId]);\n\n  function onEditButtonClick() {\n    history.push(`/posts/${postId}/edit`);\n  }\n\n  function onDeleteButtonClick() {\n    const request = axios.delete(`http://localhost:5000/posts/${postId}`);\n    \n    request.then(response => {\n      history.push('/');\n    });\n    \n  }\n\n  if (!post) return <Spinner />;\n\n  return (\n    <main>\n      <article>\n        <section>\n          <PostImage coverUrl={post.coverUrl} />\n          <PreContent marginY=\"20\" />\n          <EditionContainer>\n            <div>\n              <Button\n                style={{ color: 'orange', borderColor: 'orange', marginRight: 10 }}\n                onClick={onEditButtonClick}\n              >\n                Edit\n              </Button>\n              <Button style={{ color: 'red', borderColor: 'red' }} onClick={onDeleteButtonClick}>\n                Delete\n              </Button>\n            </div>\n          </EditionContainer>\n          <PostText post={post} />\n          <PostComments postId={post.id} />\n        </section>\n      </article>\n    </main>\n  );\n}\n\nconst EditionContainer = styled.div`\n  margin: 0 auto;\n  padding: 0 20px 40px;\n  max-width: 740px;\n  display: flex;\n  align-items: center;\n  ${({ isAdmin }) => (isAdmin ? 'justify-content: space-between' : 'justify-content: flex-start')}\n`;\n"]},"metadata":{},"sourceType":"module"}